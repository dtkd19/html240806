<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>
        배열의 순환구조를 이용하여 특정 기능을 수행하는 메서드
    </h1>
    <ul>
        <li>
            array.forEach(callback function) : 일반 반복문과 유사한 형태
        </li>
        <li>
            array.map(callback function) : forEach의 결과를 리턴하여 새로운 배열을 생성
        </li>
        <li>
            array.filter(callback function) : map처럼 수행하면서 비교 연산을 통해
            true 값만 필터링 하여 리턴
        </li>
    </ul>
    <script>
        const numArr = [3,5,5,4,4,1,2,2,7,7,9,6,8];
        const strArr = ['a','g','h','b','c','t','d'];

        console.log("forEach -- value, index, array --");
        numArr.forEach(function(v,i,a){
            console.log(v,i,a);
        })
        strArr.forEach(function(v,i,a){
            console.log(v,i,a);
        })

        console.log("-- value, index --");
        // index value

        numArr.forEach(function(v,i){
            console.log(i,v);
        })
        
        strArr.forEach(function(v){
            console.log(v);
        })

        // invoke callback function

        function printNumber(v,i,a){
            console.log(i,v,a);
        }
        console.log('---------------------');
        console.log(' invoke callback function');
        
        numArr.forEach(printNumber); // callback function을 호출할 때는 ()없애고 호출

        console.log("-- map() callback function --")

        const newStrArr = strArr.map(function(v,i){
            return `${i} , ${v}`;
        });
        console.log(newStrArr);

        const newStrArr2 = strArr.forEach(function(v,i){
            return `${i} , ${v}`; // forEach는 return 기능이 없음. 
        })
        console.log(newStrArr2); // undefined

        console.log("-- filter() -- ")
        // 5 이상인 수만 배열로 리턴
        const newNumArr = numArr.filter(function(v){
            return v>=5;
        });
        console.log(newNumArr);

        const newNumArr2 = numArr.filter(function(v){
            return (v % 2 == 0);
        });
        console.log(newNumArr2);
        newNumArr2.sort((a,b) => {
            return a-b;
        })
        console.log(newNumArr2);

        // filter를 활용한 배열의 중복제거 
        // 현재 요소가 이전의 등장하지 않은 경우만 true로
        const  onlyArr = numArr.filter((v,i, s) => { 
            return s.indexOf(v) == i;
        })
        console.log(onlyArr);
    </script>
</body>
</html>