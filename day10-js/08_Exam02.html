<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
    <style>

        img{
            width: 300px;
        }
    </style>

</head>
<body>
    <button onclick="play(1)"><img src="../image/scissors.png" alt=""></button>
    <button onclick="play(2)"><img src="../image/rock.png" alt=""></button>
    <button onclick="play(3)"><img src="../image/paper.png" alt=""></button>

    <h3 id="result"></h3>

    <script>

        let com = 0;
        let str = '';
        let win = 0;
        let lose = 0;
        let draw = 0;
        let count = 0;
        let end = '';

        function play(player){
            count++;
            console.log(player);

            com = Math.floor(Math.random()*3)+1;
            console.log(com);

            switch(player){
                case 1 : (com == 1) ? end =`비겼습니다.`: (com ==2) ?  end =`졌습니다.` :  end =`이겼습니다.`;
                        break;
                case 2 : (com == 2) ? end =`비겼습니다.` : (com == 3) ?  end =`졌습니다.` :  end =`이겼습니다.`;
                        break;
                case 3 : (com == 3) ? end =`비겼습니다.` : (com == 1) ?  end =`졌습니다.` :  end =`이겼습니다.`;
            }
            console.log(end);

            let comStr = (com == 1) ? "가위" : (com==2) ? "바위" : "보";
            let playerStr = (player == 1) ? "가위" : (player==2) ? "바위" : "보";
            str = ` player: ${playerStr} / com: ${comStr}  player가 ${end}` ;
            console.log(str);

            switch(player){
                case 1 : (com == 1) ? draw++ : (com ==2) ? lose++ : win++;
                        break;
                case 2 : (com == 2) ? draw++ : (com == 3) ? lose++ : win++;
                        break;
                case 3 : (com == 3) ? draw++ : (com == 1) ? lose++ : win++;
            }
            console.log(` 승: ${win} 무: ${draw} 패: ${lose} `)

            let str2 = ` 승: ${win} / 무: ${draw}  / 패: ${lose} `;

            let rate = ((win/count)*100).toFixed(2);
            console.log(rate);
            

            let result = document.getElementById('result');
            
            result.innerHTML = ` ${str} <br> 현재전적 <br> ${str2} <br> 승률: ${rate}% `; 
        }


    </script>
</body>
</html>